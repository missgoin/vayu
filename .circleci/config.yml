version: 2.1
jobs:
  compile:
   docker:
      - image: panchajanya1999/archlinux:latest
   steps:
      - run:
          command: |
            #pacman -Sy --noconfirm git bc lld inetutils python3 flex bison libc++ libxml2 python-pip zip wget cpio jdk-openjdk tzdata && python3 -m pip install networkx && pip3 install --upgrade gupload
            pacman -Sy --noconfirm git \
            bc \
            binutils-dev \
            bison \
            build-essential \
            ca-certificates \
            ccache \
            clang \
            cmake \
            curl \
            file \
            flex \
            git \
            libelf-dev \
            libssl-dev \
            lld \
            make \
            ninja-build \
            python3-dev \
            texinfo \
            u-boot-tools \
            xz-utils \
            zlib1g-dev -m pip install networkx && pip3 install --upgrade gupload
            git clone --depth=1 https://github.com/missgoin/vayu.git -b main builder_kernel
            cd builder_kernel
            bash .circleci/vayu.sh
workflows:
  version: 2.1
  cooking:
    jobs:
      - compile
